grid .= getArray2d input
rounds: number[] := []

until rounds.-1 is 0
  compact flatMap loop2d grid, (y, x, c) =>
    {y, x} if c is '@' and adjacentPoints(grid, x, y).filter(.item is '@')# < 4
  |> .map delete grid[&.y][&.x] |> .# |> rounds.push

log rounds.0, sum rounds
